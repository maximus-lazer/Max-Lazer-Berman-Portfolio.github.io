---
layout: project
type: project
image: img/RBE/3002Burger.png
title: "Unified Robotics IV"
# date: Oct 2023 – Dec 2023
start: 2023-10-01
end:   2023-12-31
published: true
labels:
  - ROS
  - Python
  - Linux
  - Ubuntu 20.04
  - TurtleBot3
  - SLAM (gmapping)
  - AMCL
  - A*
  - Pure Pursuit
  - OpenCV (C-space)
summary: "Implemented autonomous mapping, relocalization, and frontier exploration on a TurtleBot3 using gmapping, AMCL, A*, Pure Pursuit, and OpenCV C-space."
---

<figure class="text-center">
  <img class="img-fluid d-block mx-auto" src="{{ site.baseurl }}/img/RBE/3002Mapping.jpg" alt="TurtleBot3 exploring and mapping with SLAM and frontier-based navigation.">
  <figcaption>
    TurtleBot3 mapping and exploring via frontier-based navigation with A* planning and Pure Pursuit path tracking.
  </figcaption>
</figure>

## Project Overview
In **Lab 4** of Unified Robotics IV (RBE 3002), our team (**Wyatt Harris, Max Berman, Matheos Simantirakis**) built an autonomous exploration stack for a **TurtleBot3** with **LiDAR**. The lab was structured in two demos:
1) **Map the environment** using **SLAM (gmapping)**, **Return to start**
2) **Kidnapped robot**: relocalize from a random pose and navigate to a selected point.  
This required reliable **localization**, **frontier detection/selection**, **global planning**, and **smooth path tracking** — fully autonomous once launched.

---

## Demos:

<figure class="my-3 text-center">
  <iframe src="https://drive.google.com/file/d/1-95TuiPc7vZBcgvoh4hdK0cChFn6HK1F/preview"
          width="720" height="480"></iframe>
  <figcaption class="text-muted mt-2">
    Demo 1 — TurtleBot3 autonomously mapping the environment with SLAM and frontier-based exploration.
  </figcaption>
</figure>

<figure class="my-3 text-center">
  <iframe src="https://drive.google.com/file/d/1XZX17N-so54en08hyAYIaBZnXiXvzrT5/preview"
          width="720" height="480"></iframe>
  <figcaption class="text-muted mt-2">
    Demo 2 — TurtleBot3 recovering from the kidnapped-robot test, relocalizing and navigating back.
  </figcaption>
</figure>

## Approach & Methods

### Mapping & Localization
- **SLAM:** Tuned **gmapping** parameters for cleaner occupancy grids.  
- **AMCL:** Adjusted sensor and motion model params; added a **spin-to-localize** routine until covariance thresholds were met; repopulated particles when heading flipped (common 180° ambiguity).

### Planning & Tracking
- **A\*** global planner with **Euclidean heuristic**; added **extra cost near C-space** so paths naturally bias away from walls/supports without over-inflating obstacles.  
- **Pure Pursuit** local controller for **continuous motion** (replacing turn-drive-turn), with speed reduced proportionally to turn rate for stability.

### C-space & Frontier Exploration
- **C-space via OpenCV** dilation for fast, scalable obstacle inflation and frontier highlighting (significantly faster than naive neighbor checks).  
- **Frontier detection:** Free cells adjacent to unknown → grouped into frontiers; computed **centroids**; used a **wavefront search** to find the **nearest walkable neighbor** when centroid wasn’t traversable; filtered out out-of-bounds frontiers by capping search radius.  
- **Frontier selection:** Ranked by **size** (favor larger) and **travel distance**; planned A* to the chosen target.

---

## Results
- Successfully **mapped** the demo environment and **navigated** back to start.  
- **Kidnapped-robot** test passed after AMCL re-orientation (required one restart when initial yaw estimate was off).  
- During mapping, the robot **contacted walls 4×**; after tuning, trajectories improved.

---

## Issues & Lessons Learned
- **Sim vs. Real:** Parameters that worked in Gazebo needed extensive retuning on hardware.  
- **Compute bottlenecks:** An older Windows-7 i5 laptop caused **“teleporting”** artifacts in gmapping; switching to a faster machine eliminated the issue.  
- **Controller update rate:** Missing sleeps in the Pure Pursuit loop led to **over-correction/spin** on faster hardware; adding the sleep stabilized tracking.

---
